<div
        class="ui basic segment request-single-view column grid"
        id="request-list-{{request.requestId}}"
>
    <div class="row">
        <div class="eight wide column">
            <div class="ui header" [routerLink]="['/request', request.requestId]">
                {{request.query.query.title}} {{request.query.query.description}}
            </div>
        </div>
        <div class="actions four wide column">
            <button class="ui orange button" *ngIf="single && needAuthorization">
                <i class="icon user"></i>
                Zulassen
            </button>
        </div>
        <div class="actions four wide right floated right aligned column">
            <a class="ui circular yellow icon button"
               *ngIf="!hidden"
               [ngClass]="{'basic': !starred, 'disabled': starLoading }"
               (click)="toggleStarredMarker()"
               title="{{starMessage}}"
            >
                <i class="star icon" [class.empty]="!starred"></i>
            </a>
            <a class="ui circular red icon button"
               *ngIf="!starred"
               [ngClass]="{'basic': !hidden, 'disabled': hiddenLoading }"
               (click)="toggleHiddenMarker()"
               title="{{hideMessage}}"
            >
                <i class="trash outline icon" [class.empty]="!hidden"></i>
            </a>
            <a *ngIf="!single" class="ui circular icon button" [routerLink]="['/request', request.requestId]">
                <i class="eye icon"></i>
            </a>
            <a *ngIf="single" class="ui circular basic green icon button" routerLink="/request" title="Zurück zum Berichtsübersicht">
                <i class="arrow left icon"></i>
            </a>
        </div>
    </div>

    <div class="compact row">
        <div class="ui meta seven wide column">
            <div class="ui padded grid">
                <div class="ui compact row">
                    <div class="six wide column">Reference:</div>
                    <div class="ten wide column">{{request.query.referenceDate | date: 'mediumDate'}}</div>
                </div>
                <div class="ui compact row">
                    <div class="six wide column">published:</div>
                    <div class="ten wide column">{{request.query.published | date: 'mediumDate'}}</div>
                </div>
                <div class="ui compact row">
                    <div class="six wide column">scheduled:</div>
                    <div class="ten wide column">{{request.query.scheduled | date: 'mediumDate'}}</div>
                </div>
                <div class="ui compact row">
                    <div class="six wide column">deadline:</div>
                    <div class="ten wide column">{{request.query.deadline | date: 'mediumDate'}}</div>
                </div>
                <div class="ui compact row">
                    <div class="six wide column">closed:</div>
                    <div class="ten wide column">{{request.query.closed | date: 'mediumDate'}}</div>
                </div>
                <div class="ui compact row">
                    <div class="six wide column">canceled:</div>
                    <div class="ten wide column">{{request.query.canceled | date: 'mediumDate'}}</div>
                </div>
            </div>
        </div>
        <div class="ui meta four wide column">
            <div class="item">
                QueryId: {{request.queryId}}
            </div>
            <div class="item">
                RequestId: {{request.requestId}}
            </div>
            <div class="item">
                Status: {{status}}
            </div>
            <div class="item" *ngIf="single">
                <label>Status ändern:</label>
                <select class="ui dropdown" (change)="updateStatus($event.target.value)">
                    <option *ngFor="let stat of options; let i = index" value="{{i}}"
                            [selected]="i === request.status">
                        {{stat}}
                    </option>
                </select>
            </div>
        </div>
        <div class="ui meta five wide column">
            Principal:
            <div class="item">
                {{request.query.query.principal.name}}
            </div>
            <div class="item" *ngIf="request.query.query.principal.organization">
                {{request.query.query.principal.organization}}
            </div>
            <div class="item" *ngIf="request.query.query.principal.email">
                {{request.query.query.principal.email}}
            </div>
            <div class="item" *ngIf="request.query.query.principal.phone">
                {{request.query.query.principal.phone}}
            </div>
        </div>
    </div>

    <div class="ui segment sixteen wide column" *ngIf="single">
        <pre>{{request.query.query.extensions[0]}}</pre>
    </div>

</div>
