<div
        class="ui basic segment request-single-view grid container"
        id="request-list-{{request.requestId}}"
>
    <div class="compact row">
        <div class="twelve wide column">
            <h1 class="ui header request-single-view-header" [routerLink]="['/request', request.requestId]">
                {{request.query.query.title}}
                <!--<div class="ui red circular label" *ngIf="request.status < 2">neu</div>-->
            </h1>
        </div>
        <div class="actions four wide right floated right aligned column">
            <a class="ui circular red icon button"
               [ngClass]="{'basic': !hidden, 'disabled': hiddenLoading }"
               (click)="toggleHiddenMarker()"
               title="{{hideMessage}}"
            >
                <i class="trash outline icon" [class.empty]="!hidden"></i>
            </a>
            <a class="ui circular basic green icon button" routerLink="/request" title="Zurück zum Berichtsübersicht">
                <i class="arrow left icon"></i>
            </a>
        </div>
    </div>
    <div class="row">
        <request-status-bar [request]="request" [single]="true"></request-status-bar>
    </div>
    <div class="row ui warning message" *ngIf="request.needAuthorization()">
        <div class="two wide column">
            <i class="huge yellow warning sign icon"></i>
        </div>
        <div class="eight wide column larger middle aligned" *ngIf="request.isNew()">
            Diese Anfrage wurde noch nicht zur Ausführung freigegeben. Bitte wählen Sie eine Aktion.
        </div>
        <div class="eight wide column larger middle aligned" *ngIf="!request.isNew()">
            Die Ergbnisse wurden noch nicht zur Übermittlung freigegeben. Bitte wählen Sie eine Aktion.
        </div>
        <div class="actions right aligned middle aligned six wide column">
            <div class="ui green animated fade button request-allow-button"
                 (click)="authorize(true)"
            >
                <div class="visible content">Freigabe</div>
                <div class="hidden content">
                    <i class="icon checkmark"></i>
                    Zulassen
                </div>
            </div>
            <div class="ui red animated fade button request-deny-button"
                 (click)="authorize(false)"
            >
                <div class="visible content">Ablehnen</div>
                <div class="hidden content">
                    <i class="icon remove"></i>
                    Ablehnen
                </div>
            </div>
        </div>
    </div>
    <div class="row ui segment">
        <div class="ui meta sixteen wide column">
            Auftraggeber: {{request.query.query.principal.name}}
            <span *ngIf="request.query.query.principal.organization">
                , {{request.query.query.principal.organization}}
            </span>
            <div *ngIf="request.query.query.principal.phone">
                , {{request.query.query.principal.phone}}
            </div>
            <span *ngIf="request.query.query.principal.email">
            , {{request.query.query.principal.email}}
            </span>
        </div>
        <div class="ui sixteen wide column divider"></div>
        <div class="ui meta five wide column">
            Datum der Beauftragung:
        </div>
        <div class="ui meta three wide column">
            {{request.query.published | date: 'mediumDate'}}
        </div>
        <div class="ui meta five wide column">
            Referenzdatum der Daten:
        </div>
        <div class="ui meta three wide column">
            {{request.query.referenceDate | date: 'mediumDate'}}
        </div>
        <div class="ui meta five wide column">
            Datum der (geplanten) Ausführung:
        </div>
        <div class="ui meta three wide column">
            {{request.query.scheduled | date: 'mediumDate'}}
        </div>
        <div class="ui meta five wide column">
            Deadline:
        </div>
        <div class="ui meta three wide column">
            {{request.query.deadline | date: 'mediumDate'}}
        </div>
        <div class="ui meta five wide column" *ngIf="request.query.closed">
            Beendet am:
        </div>
        <div class="ui meta three wide column" *ngIf="request.query.closed">
            {{request.query.closed | date: 'mediumDate'}}
        </div>
        <div class="ui meta five wide column" *ngIf="request.query.canceled">
            Vom Broker abgebrochen am:
        </div>
        <div class="ui meta three wide column" *ngIf="request.query.canceled">
            {{request.query.canceled | date: 'mediumDate'}}
        </div>
    </div>
    <div class="compact row">
        <div class="ui meta seven wide column">
            <div class="ui padded grid">
                <div class="ui compact row">
                    <div class="six wide column">Reference:</div>
                    <div class="ten wide column">{{request.query.referenceDate | date: 'mediumDate'}}</div>
                </div>
                <div class="ui compact row">
                    <div class="six wide column">published:</div>
                    <div class="ten wide column">{{request.query.published | date: 'mediumDate'}}</div>
                </div>
                <div class="ui compact row">
                    <div class="six wide column">scheduled:</div>
                    <div class="ten wide column">{{request.query.scheduled | date: 'mediumDate'}}</div>
                </div>
                <div class="ui compact row">
                    <div class="six wide column">deadline:</div>
                    <div class="ten wide column">{{request.query.deadline | date: 'mediumDate'}}</div>
                </div>
                <div class="ui compact row" *ngIf="request.query.closed">
                    <div class="six wide column">closed:</div>
                    <div class="ten wide column">{{request.query.closed | date: 'mediumDate'}}</div>
                </div>
                <div class="ui compact row" *ngIf="request.query.canceled">
                    <div class="six wide column">canceled:</div>
                    <div class="ten wide column">{{request.query.canceled | date: 'mediumDate'}}</div>
                </div>
            </div>
        </div>
        <div class="ui meta four wide column">
            <div class="item">
                Request-ID: {{request.requestId}}
            </div>
            <div class="item" *ngIf="request.hasResultFile()">
                download: hier link einfügen und beschreibung nur in detail
            </div>
        </div>
        <div class="ui meta five wide column">
            Principal:
            <div class="item">
                {{request.query.query.principal.name}}
            </div>
            <div class="item" *ngIf="request.query.query.principal.organization">
                {{request.query.query.principal.organization}}
            </div>
            <div class="item" *ngIf="request.query.query.principal.email">
                {{request.query.query.principal.email}}
            </div>
            <div class="item" *ngIf="request.query.query.principal.phone">
                {{request.query.query.principal.phone}}
            </div>
        </div>
    </div>
    <div class="row">
        <div class="sixteen wide column">
            Beschreibung: {{request.query.query.description}}
        </div>
    </div>

    <div class="ui segment sixteen wide column">
        <pre>{{request.query.query.extensions[0]}}</pre>
    </div>

</div>

