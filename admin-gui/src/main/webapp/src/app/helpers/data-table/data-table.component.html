<table *templateVar="showDetailButtons ? columns.length : columns.length + 1 as colSpan"
       class="ui sortable selectable celled table segment sixteen wide column">
    <thead>
    <tr>
        @for (column of columns; track column) {
            <th sortableTableColumn
                [identifier]="column.header"
                (sort)="sort($event)">
                {{ column.header }}
            </th>
        }
        @if (showDetailButtons) {
            <th>Details</th>
        }
    </tr>
    </thead>
    <tbody>
        @for (row of allData | paginate: {itemsPerPage: 15, currentPage: page, id: paginatorId.toString()}; track determineTrackBy(row)) {
            <tr>
                @for (column of columns; track column) {
                    <td>
                        {{ resolveField(column.field, row) }}
                    </td>
                } @empty {
                    <td [colSpan]="colSpan">Keine Daten gefunden</td>
                }
                @if (showDetailButtons && !!allData?.length) {
                    <td class="center aligned">
                        <button class="ui icon button"
                                (click)="onButtonClick(row)">
                            <i class="search icon"></i>
                        </button>
                    </td>
                }
            </tr>
        }
    </tbody>
    <tfoot>
    <th [colSpan]="colSpan"
        class="center aligned">
        <pagination-controls (pageChange)="page = $event"
                             [autoHide]="false"
                             [id]="paginatorId.toString()"
                             class="pagination"
                             nextLabel="NÃ¤chste Seite"
                             previousLabel="Vorherige Seite">
        </pagination-controls>
    </th>
    </tfoot>
</table>
